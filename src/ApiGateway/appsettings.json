{
  "Auth": {
    "Authority": "http://identity-api",
    "Audience": "api-gateway"
  },
  "ReverseProxy": {
    "Routes": {
      "token-route": {
        "ClusterId": "identity-cluster",
        "Match": { "Path": "/connect/{**catch-all}" },
        "AuthorizationPolicy": "anonymous",
        "RateLimiterPolicy": "token-endpoint",
        "Transforms": [{ "PathPattern": "/connect/{**catch-all}" }]
      },
      "identity-route": {
        "ClusterId": "identity-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/identity/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "academic-route": {
        "ClusterId": "academic-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/academic/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "student-route": {
        "ClusterId": "student-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/students/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "attendance-route": {
        "ClusterId": "attendance-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/attendance/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "examination-route": {
        "ClusterId": "examination-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/examination/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "fee-route": {
        "ClusterId": "fee-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/fees/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "notification-route": {
        "ClusterId": "notification-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/notifications/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "faculty-route": {
        "ClusterId": "faculty-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/faculty/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "hostel-route": {
        "ClusterId": "hostel-cluster",
        "Match": { "Path": "/api/v{version:apiVersion}/hostel/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed",
        "Transforms": [{ "PathRemovePrefix": "/api/v1" }]
      },
      "mobile-route": {
        "ClusterId": "bff-cluster",
        "Match": { "Path": "/api/mobile/{**catch-all}" },
        "RateLimiterPolicy": "tenant-fixed"
      }
    },
    "Clusters": {
      "identity-cluster":     { "Destinations": { "default": { "Address": "http://identity-api"     } } },
      "academic-cluster":     { "Destinations": { "default": { "Address": "http://academic-api"     } } },
      "student-cluster":      { "Destinations": { "default": { "Address": "http://student-api"      } } },
      "attendance-cluster":   { "Destinations": { "default": { "Address": "http://attendance-api"   } } },
      "examination-cluster":  { "Destinations": { "default": { "Address": "http://examination-api"  } } },
      "fee-cluster":          { "Destinations": { "default": { "Address": "http://fee-api"          } } },
      "notification-cluster": { "Destinations": { "default": { "Address": "http://notification-api" } } },
      "faculty-cluster":      { "Destinations": { "default": { "Address": "http://faculty-cluster"  } } },
      "hostel-cluster":       { "Destinations": { "default": { "Address": "http://hostel-api"       } } },
      "bff-cluster":          { "Destinations": { "default": { "Address": "http://bff"              } } }
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    }
  }
}
